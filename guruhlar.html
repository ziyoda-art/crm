<!DOCTYPE html>
<html lang="uz">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Guruhlar - Yagona IT CRM</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="./davomat.css">
    <link rel="stylesheet" href="./guruhlar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
</head>

<body>
    <nav class="navbar">
        <div class="home">
            <a href="index.html">
                <!-- <img src="./logo.png" alt="Yagona IT CRM Logo" class="logo"> -->
                <span class="logo-text"><i class="fa-solid fa-angle-left"></i></span>
            </a>
        </div>
        <!-- <div class="navbar-center">
            <div class="search-container">
                <button class="icon-btn" title="Search" id="searchBtn">
                    <i class="fas fa-search"></i>
                </button>
                <input type="text" id="searchInput" class="search-input" placeholder="Search..." />
            </div>
            <button class="icon-btn" title="YouTube">
                <i class="fab fa-youtube"></i>
            </button>
            <button class="icon-btn" title="Toggle Dark Mode" id="darkModeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </div> -->
        <div class="navbar-right">
            <div class="search-container">
                <button class="icon-btn" title="Search" id="searchBtn">
                    <i class="fas fa-search"></i>
                </button>
                <input type="text" id="searchInput" class="search-input" placeholder="Search..." />
            </div>
            <button class="icon-btn" title="Toggle Dark Mode" id="darkModeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <div class="navbar-left">
                <button class="btn-blaze">
                    <script>
                        // Uzbek month names
                        const months = ["Yanvar", "Fevral", "Mart", "Aprel", "May", "Iyun", "Iyul", "Avgust", "Sentabr", "Oktabr", "Noyabr", "Dekabr"];
                        const now = new Date();
                        const month = months[now.getMonth()];
                        const day = now.getDate();
                        document.write(`${month} <span class="badge">${day}-kun</span>`);
                    </script>
                </button>
            </div>
            <div class="user-profile" onclick="navigateToSettings()" style="cursor: pointer;">
                <i class="fa-solid fa-circle-user"></i>
                <div class="user-info">
                    <span class="user-name">T. Ziyodabonu</span>
                    <span class="user-role">Admin</span>
                </div>
            </div>
        </div>
    </nav>
    <div class="guruh-container">
        <div class="guruh-header">
            <button class="create-group-btn" onclick="openNewGroupModal()">
                <i class="fas fa-plus"></i> Yangi Guruh Yaratish
            </button>
        </div>

        <div id="groups-container">
            <!-- Groups will be dynamically loaded here -->
        </div>
    </div>

    <!-- New Group Modal -->
    <div id="newGroupModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('newGroupModal')">&times;</span>
            <h3>Yangi Guruh Yaratish</h3>
            <form id="newGroupForm">
                <label>Guruh Nomi:</label>
                <input type="text" id="groupName" required>

                <label>Ustozni Tanlang:</label>
                <select id="groupTeacher" required>
                    <option value="">Ustoz tanlang...</option>
                </select>

                <label>Kunligi Tartibi:</label>
                <select id="groupScheduleType" required>
                    <option value="">Tanlang...</option>
                    <option value="toq">Toq kunlar (1,3,5)</option>
                    <option value="juft">Juft kunlar (2,4,6)</option>
                </select>

                <label>Dars Vaqti:</label>
                <select id="groupTimeSlot" required>
                    <option value="">Vaqtni tanlang...</option>
                    <option value="09:00-11:00">09:00 dan 11:00 gacha</option>
                    <option value="11:30-13:30">11:30 dan 13:30 gacha</option>
                    <option value="14:00-16:00">14:00 dan 16:00 gacha</option>
                    <option value="16:30-18:30">16:30 dan 18:30 gacha</option>
                </select>

                <label>Narx (so'm):</label>
                <input type="number" id="groupPrice" placeholder="Masalan: 500000" required>

                <button type="submit">Yaratish</button>
            </form>
        </div>
    </div>

    <!-- Add Student Modal -->
    <div id="addStudentModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeModal('addStudentModal')">&times;</span>
            <h3>O'quvchi Qo'shish</h3>
            <form id="addStudentForm">
                <input type="hidden" id="targetGroupId">

                <label>O'quvchini Tanlang:</label>
                <input type="text" id="studentSearch" placeholder="O'quvchini qidiring..." oninput="filterStudents()"
                    required>
                <div id="studentResults" class="dropdown-results"></div>

                <button type="submit">Qo'shish</button>
            </form>
        </div>
    </div>

    <script src="guruhlar.js"></script>
</body>

</html>
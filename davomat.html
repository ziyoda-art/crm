<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Davomat Tizimi - Yagona IT</title>
    <!-- <link rel="stylesheet" href="./style.css">
    <link rel="stylesheet" href="./style-navbar.css"> -->
    <link rel="stylesheet" href="davomat.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.0/css/all.min.css">
</head>

<body>
    <nav class="navbar">
        <div class="home">
            <a href="index.html">
                <!-- <img src="./logo.png" alt="Yagona IT CRM Logo" class="logo"> -->
                <span class="logo-text"><i class="fa-solid fa-angle-left"></i></span>
            </a>
        </div>
        <!-- <div class="navbar-center">
            <div class="search-container">
                <button class="icon-btn" title="Search" id="searchBtn">
                    <i class="fas fa-search"></i>
                </button>
                <input type="text" id="searchInput" class="search-input" placeholder="Search..." />
            </div>
            <button class="icon-btn" title="YouTube">
                <i class="fab fa-youtube"></i>
            </button>
            <button class="icon-btn" title="Toggle Dark Mode" id="darkModeToggle">
                <i class="fas fa-moon"></i>
            </button>
        </div> -->
        <div class="navbar-right">
            <button class="icon-btn" title="Toggle Dark Mode" id="darkModeToggle">
                <i class="fas fa-moon"></i>
            </button>
            <div class="navbar-left">
                <button class="btn-blaze">
                    <script>
                        // Uzbek month names
                        const months = ["Yanvar", "Fevral", "Mart", "Aprel", "May", "Iyun", "Iyul", "Avgust", "Sentabr", "Oktabr", "Noyabr", "Dekabr"];
                        const now = new Date();
                        const month = months[now.getMonth()];
                        const day = now.getDate();
                        document.write(`${month} <span class="badge">${day}-kun</span>`);
                    </script>
                </button>
            </div>
            <div class="user-profile" onclick="navigateToSettings()" style="cursor: pointer;">
                <i class="fa-solid fa-circle-user"></i>
                <div class="user-info">
                    <span class="user-name">T. Ziyodabonu</span>
                    <span class="user-role">Admin</span>
                </div>
            </div>
        </div>
    </nav>

    <div class="container">
        <h1 class="page-title">Davomat Tizimi</h1>

        <!-- Guruh kartalari -->
        <div class="groups-container">
            <div class="group-card" data-group="1">
                <div class="group-header">
                    <h3>Og'abek 1-guruh</h3>
                    <span class="student-count">15 o'quvchi</span>
                </div>
                <div class="group-info">
                    <p><i class="fas fa-clock"></i> Haftaning toq kunlari</p>
                    <p><i class="fas fa-time"></i> 14:00 - 16:00</p>
                    <p><i class="fas fa-calendar"></i> Dushanba - Juma</p>
                </div>
                <button class="btn-attendance" onclick="showAttendance('group1')">
                    <i class="fas fa-clipboard-check"></i> Davomat
                </button>
            </div>

            <div class="group-card" data-group="2">
                <div class="group-header">
                    <h3>Og'abek 2-guruh</h3>
                    <span class="student-count">12 o'quvchi</span>
                </div>
                <div class="group-info">
                    <p><i class="fas fa-clock"></i> Haftaning juft kunlari</p>
                    <p><i class="fas fa-time"></i> 16:00 - 18:00</p>
                    <p><i class="fas fa-calendar"></i> Seshanba - Shanba</p>
                </div>
                <button class="btn-attendance" onclick="showAttendance('group2')">
                    <i class="fas fa-clipboard-check"></i> Davomat
                </button>
            </div>

            <div class="group-card" data-group="3">
                <div class="group-header">
                    <h3>Ubaydullo 1-guruh</h3>
                    <span class="student-count">18 o'quvchi</span>
                </div>
                <div class="group-info">
                    <p><i class="fas fa-clock"></i> Haftaning toq kunlari</p>
                    <p><i class="fas fa-time"></i> 10:00 - 12:00</p>
                    <p><i class="fas fa-calendar"></i> Dushanba - Juma</p>
                </div>
                <button class="btn-attendance" onclick="showAttendance('group3')">
                    <i class="fas fa-clipboard-check"></i> Davomat
                </button>
            </div>

            <div class="group-card" data-group="4">
                <div class="group-header">
                    <h3>Amriddin 1-guruh</h3>
                    <span class="student-count">20 o'quvchi</span>
                </div>
                <div class="group-info">
                    <p><i class="fas fa-clock"></i> Haftaning juft kunlari</p>
                    <p><i class="fas fa-time"></i> 09:00 - 11:00</p>
                    <p><i class="fas fa-calendar"></i> Seshanba - Shanba</p>
                </div>
                <button class="btn-attendance" onclick="showAttendance('group4')">
                    <i class="fas fa-clipboard-check"></i> Davomat
                </button>
            </div>
        </div>

        <!-- Davomat jadvali -->
        <div id="attendance-section" class="attendance-section hidden">
            <div class="attendance-header">
                <h2 id="groupTitle">Guruh davomati</h2>
                <div class="attendance-controls">
                    <input type="date" id="attendanceDate" class="date-picker">
                    <button class="btn-save" onclick="saveAttendance()">
                        ✓ Saqlash
                    </button>
                    <!-- <button class="btn-back" onclick="hideAttendance()">
                        <i class="fas fa-arrow-left"></i> Orqaga
                    </button> -->
                </div>
            </div>

            <div class="attendance-table-container">
                <table class="attendance-table">
                    <thead>
                        <tr>
                            <th>№</th>
                            <th>Ism Familiya</th>
                            <th>Telefon</th>
                            <th>Keldi</th>
                            <th>Kelmadi</th>
                        </tr>
                    </thead>
                    <tbody id="attendanceBody">
                        <!-- Student attendance rows will be generated here -->
                    </tbody>
                </table>
            </div>

            <div class="attendance-summary">
                <div class="summary-card present">
                    <i class="fas fa-user-check"></i>
                    <span class="count" id="presentCount">0</span>
                    <span class="label">Keldi</span>
                </div>
                <div class="summary-card absent">
                    <i class="fas fa-user-times"></i>
                    <span class="count" id="absentCount">0</span>
                    <span class="label">Kelmadi</span>
                </div>
                <div class="summary-card excuse">
                    <i class="fas fa-user-clock"></i>
                    <span class="count" id="excuseCount">0</span>
                    <span class="label">Sababli</span>
                </div>
            </div>
        </div>
    </div>

    <script src="davomat.js"></script>
</body>

</html>